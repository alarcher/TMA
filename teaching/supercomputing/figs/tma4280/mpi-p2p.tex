\begin{tikzpicture}
  \node[anchor=south] at (1,-1) {send(x, 1)};
  \draw[darkblue, very thick] (0,-1) -- (9,-1);
  \node[anchor=west] at (9,-1) {Process 0};
  \draw[orange, ultra thick, -latex] (1,-1) -- (3,-3);
  \node[anchor=north] at (3,-3) {recv(y, 0)};
  \draw[darkblue, very thick] (0,-3) -- (9,-3);
  \node[anchor=west] at (9,-3) {Process 1};
  \draw[darkblue, very thick] (0,-5) -- (9,-5);
  \node[anchor=south] at (5.5,-3) {req = irecv(y, 2)};
  \node[anchor=south] at (8,-3) {wait(req)};
  \draw[orange, ultra thick, -latex] (5.5,-3) -- (5.5, -3.5) -- (8, -3.5) -- (8,-3);
  \draw[orange, ultra thick, -latex] (1,-1) -- (3,-3);
  \node[anchor=west] at (9,-5) {Process 2};
  \draw[orange, ultra thick, -latex] (5,-5) -- (5, -4.5) -- (7.5, -4.5) -- (7.5,-5);
  \draw[orange, ultra thick, -latex] (1,-1) -- (3,-3);
  \draw[orange, ultra thick, -latex] (6.25,-4.5) -- (6.75,-3.5);
  \node[anchor=north] at (5,-5) {req = isend(x, 1)};
  \node[anchor=north] at (7.5,-5) {wait(req)};
\end{tikzpicture}
